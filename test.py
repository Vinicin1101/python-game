from matplotlib import cm
import matplotlib.cbook as cbook
import matplotlib.colors as colors
import terrain
from matplotlib import colors
import matplotlib.pyplot as plt
import numpy as np

terreno = terrain.Terreno(5, 6)
map = terreno.gerarMap()
# print(map)
# terreno.viewMap()

# Top: [[-1405. -1437. -1291. ...   103.    75.    99.]
#  [-1246. -1031. -1041. ...   107.    99.    97.]
#  [-1189. -1035.  -932. ...   121.   117.   109.]
#  ...
#  [ 1001.  1059.  1069. ...  1543.  1725.  1325.]
#  [  551.   593.  1051. ...  1763.  1731.  1309.]
#  [  989.   943.   635. ...  1521.  1519.  1015.]]
# Lon: [234.0167 234.05   234.0833 234.1167 234.15   234.1833 234.2167 234.25
#  234.2833 234.3167 234.35   234.3833 234.4167 234.45   234.4834 234.5167
#  234.55   234.5833 234.6167 234.65   234.6833 234.7167 234.75   234.7833
#  234.8167 234.85   234.8833 234.9167 234.95   234.9834 235.0167 235.05
#  235.0833 235.1167 235.15   235.1833 235.2167 235.25   235.2833 235.3167
#  235.35   235.3833 235.4167 235.45   235.4834 235.5167 235.55   235.5833
#  235.6167 235.65   235.6833 235.7167 235.75   235.7833 235.8167 235.85
#  235.8833 235.9167 235.95   235.9834 236.0167 236.05   236.0833 236.1167
#  236.15   236.1833 236.2167 236.25   236.2833 236.3167 236.35   236.3833
#  236.4167 236.45   236.4834 236.5167 236.55   236.5833 236.6167 236.65
#  236.6833 236.7167 236.75   236.7833 236.8167 236.85   236.8833 236.9167
#  236.95   236.9834 237.0167 237.05   237.0833 237.1167 237.15   237.1833
#  237.2167 237.25   237.2833 237.3167 237.35   237.3833 237.4167 237.45
#  237.4834 237.5167 237.55   237.5833 237.6167 237.65   237.6833 237.7167
#  237.75   237.7833 237.8167 237.85   237.8833 237.9167 237.95   237.9834]
# Lat: [48.01637 48.03866 48.06094 48.08322 48.10548 48.12774 48.14998 48.17221
#  48.19444 48.21666 48.23886 48.26106 48.28325 48.30542 48.32759 48.34975
#  48.37189 48.39403 48.41616 48.43828 48.46039 48.48249 48.50458 48.52666
#  48.54873 48.57079 48.59284 48.61488 48.63692 48.65894 48.68095 48.70296
#  48.72495 48.74693 48.76891 48.79087 48.81283 48.83478 48.85671 48.87864
#  48.90055 48.92246 48.94436 48.96625 48.98813 49.01    49.03186 49.05371
#  49.07555 49.09738 49.1192  49.14101 49.16281 49.1846  49.20639 49.22816
#  49.24992 49.27168 49.29342 49.31516 49.33688 49.3586  49.3803  49.402
#  49.42369 49.44536 49.46703 49.48869 49.51034 49.53197 49.5536  49.57523
#  49.59684 49.61843 49.64003 49.66161 49.68318 49.70474 49.7263  49.74784
#  49.76937 49.7909  49.81241 49.83392 49.85541 49.8769  49.89837 49.91984
#  49.9413  49.96275 49.98418]

dem = terreno.getDem()

topo = dem['z']
print("Top:", topo)
longitude = dem['x']
print("Lon:", longitude)
latitude = dem['y']
print("Lat:", latitude)

# fig, ax = plt.subplots()

# # make the norm:  Note the center is offset so that the land has more
# # dynamic range:
# divnorm = colors.TwoSlopeNorm(vmin=0, vcenter=0.5, vmax=1)

# pcm = ax.pcolormesh(longitude, latitude, topo, rasterized=True, norm=divnorm,
#                     cmap="gray", shading='auto')
# # Simple geographic plot, set aspect ratio because distance between lines of
# # longitude depends on latitude.
# ax.set_aspect(1 / np.cos(np.deg2rad(49)))
# # ax.set_title('')
# cb = fig.colorbar(pcm, shrink=0.6)
# cb.set_ticks([0, 1])
# plt.show()
